<!doctype html>
<html lang="pl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Moje Przepisy üç∞</title>
  <meta name="theme-color" content="#f9fafb" />
  <link rel="manifest" href="manifest.json" />
  <style>
    :root {
      --bg: #f9fafb;
      --card: #ffffff;
      --accent: #2b7cff;
      --text: #111827;
      --muted: #6b7280;
      --radius: 12px;
    }
    * { box-sizing: border-box; }
    body {
      font-family: "Inter", system-ui, -apple-system, "Segoe UI", Roboto, Arial;
      margin: 0;
      background: var(--bg);
      color: var(--text);
      padding: 16px;
      line-height: 1.5;
      -webkit-font-smoothing: antialiased;
    }
    .container {
      max-width: 900px;
      margin: 0 auto;
    }
    header {
      display: flex;
      flex-direction: column;
      gap: 8px;
      margin-bottom: 16px;
      text-align: center;
    }
    header h1 {
      font-size: 1.6rem;
      font-weight: 600;
      margin: 0;
    }
    .meta {
      font-size: 0.9rem;
      color: var(--muted);
    }
    .searchBox {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      margin-bottom: 14px;
    }
    input[type="search"] {
      flex: 1;
      padding: 12px 14px;
      border-radius: var(--radius);
      border: 1px solid #e5e7eb;
      font-size: 1rem;
      background: var(--card);
      box-shadow: 0 1px 3px rgba(0,0,0,0.05);
      transition: border 0.2s, box-shadow 0.2s;
    }
    input[type="search"]:focus {
      outline: none;
      border-color: var(--accent);
      box-shadow: 0 0 0 2px rgba(43,124,255,0.15);
    }
    .controls {
      display: flex;
      gap: 8px;
    }
    button {
      flex-shrink: 0;
      padding: 10px 14px;
      border-radius: var(--radius);
      border: 1px solid #e5e7eb;
      background: var(--card);
      cursor: pointer;
      font-size: 0.95rem;
      transition: background 0.2s, transform 0.1s;
    }
    button:hover { background: #f3f4f6; }
    button:active { transform: scale(0.97); }
    #info { margin-bottom: 10px; color: var(--muted); font-size: 0.9rem; text-align: center; }
    .list {
      background: var(--card);
      border-radius: var(--radius);
      box-shadow: 0 4px 16px rgba(0,0,0,0.05);
      overflow-y: auto;
      max-height: 70vh;
      scroll-behavior: smooth;
    }
    .item {
      display: flex;
      align-items: flex-start;
      gap: 12px;
      padding: 12px 14px;
      border-bottom: 1px dashed #e5e7eb;
      transition: background 0.2s;
      animation: fadeIn 0.2s ease-in;
    }
    .item:hover { background: #f9fafb; }
    .item:last-child { border-bottom: none; }
    .num {
      background: #eef2ff;
      color: var(--accent);
      border-radius: 8px;
      font-weight: 600;
      padding: 6px 10px;
      min-width: 40px;
      text-align: center;
      font-size: 0.9rem;
    }
    .title { flex: 1; word-break: break-word; }
    .noresults { text-align: center; padding: 20px; color: var(--muted); }
    footer { margin-top: 20px; text-align: center; font-size: 0.85rem; color: var(--muted); }
    @keyframes fadeIn { from { opacity:0; transform: translateY(4px); } to { opacity:1; transform: translateY(0); } }
    @media (max-width:600px) {
      body { padding: 12px; }
      header h1 { font-size: 1.3rem; }
      button { padding: 10px; font-size: 0.9rem; }
      input[type="search"] { font-size: 1rem; }
      .num { min-width: 36px; padding: 5px 8px; font-size: 0.85rem; }
    }
  </style>
</head>
<body>
  <div class="container">
    <header>
      <h1>üç∞ Moje Przepisy</h1>
      <div class="meta">240 pozycji ‚Äî wyszukuj fragment nazwy (np. <em>makowiec</em>, <em>krolewicz</em>)</div>
    </header>

    <div class="searchBox">
      <input id="search" type="search" placeholder="Wyszukaj przepis..." autocomplete="off" />
      <div class="controls">
        <button id="clearBtn">Wyczy≈õƒá</button>
        <button id="showAllBtn">Poka≈º wszystko</button>
      </div>
    </div>

    <div id="info" class="meta"></div>
    <div id="list" class="list" aria-live="polite"></div>
    <footer>üîé Wyszukiwanie ignoruje wielko≈õƒá liter i polskie znaki</footer>
  </div>

  <script>
    const recipes = [
      "1 Tort bakaliowy","2 tort orzechowo-bezowy","3 Dyl","4 Placek Pycha",
      "5 Orzechowo serowy z masƒÖ cappuccino","6 Kr√≥lewicz","7 Sernik z olejem",
      "8 Tort orzechowo-kokosowy","9 kokosowo-orzechowy bez masy","10 Sernik Bia≈Çy",
      "11 Placek cioci Hani","12 Serowy z kawƒÖ","13 Agatka","14 Placek cytrynowy",
      "15 Sernik bez spodu","16 Sernik w cie≈õcie kakaowym-Babci Heli","17 Rernik z rosa",
      "18 Sernik z pierniczkami","19 Sernik z brzoskwiniami","20 Sernik kolorowy",
      "21 Tort makowo-czekoladowy","22 Serowo-makowo-orzechowy","23 Sernik z ananasem",
      "24 Mazurek Forys","25 Placek kruchy z serem","26 Sezamowo-kokosowy","27 Dorotka",
      "28 Tort orzechowo-kokosowo-bezowy","29 Kolorowiec","30 Rolada z jab≈Çek",
      "31 Placek delicyjny","32 Placek z delicjami.","33 Kruchy makowo-kokosowy",
      "34 Sernik Delicje","35 Placek z wi≈õniami z kompotu","36 Placek kokosowo-makowy",
      "37 wi≈õniowo-kokosowy","38 Snikers","39 Placek z galaretkƒÖ","40 placek z ptasim mleczkiem",
      "41 Orzechowo kakaowo-kokosowy","42 Makowy z kremem i galaretka","43 Pszcz√≥≈Çka","44 Cyga≈Ñski",
      "45 ciastka lukrowane","46 Aspirynki Babci Heli","47 Blok Mamy","48 Ro≈ºki francuskie",
      "49 Amoniaczki","50 Blok Reni","51 Ciastka wa≈Çeczki","52 Kocie oczka","53 Kruche babeczki",
      "54 Rogaliki p√≥≈Çkruche","55 Paluszki stone","56 Ciastka","57 Ciastka z maszynki",
      "58 Masa na andrut","59 Rolada jab≈Çkowa","60 Ciastka piero≈ºki","61 Orzeszki","62 Krem√≥wki",
      "63 Rogaliki siekane","64 Rogaliki","65 Chrust","66 Aspirynki 2","67 Ciastka w kakale",
      "68 Ciastka orzechowe","69 Ciastka kostka kokosowa","70 Blok Mamy","71 Piernik",
      "72 Piernik z Lubaczowa","73 Wafel Snikers","74 Szarlotka Celiny","75 Ciasteczka",
      "76 Grzybki","77 Ptasie mleczko","78 Piernik spo≈ºywczak","79 Legumina z Truskawkami",
      "80 W-Z-K","81 Karpatka Celiny","82 Rolada Ali","83 Oponki","84 Szyszki","85 Kakaowe kuleczki",
      "86 Blok Danusi","87 CHLEB","88 Keks","89 Masa andrutowa","90 Masa na andrut z GalaretkƒÖ",
      "91 Migda≈Çowiec","92 Masa czekoladowa","93 Masa orzechowa","94 Krem waniliowy",
      "95 LUKRY","96 Polewa czekoladowa","97 Sernik z brzoskwiniami","98 Placek na waflu z orzechami",
      "99 Placek CUDO","100 Jawor","101 Metrowiec","102 Murzynek","103 Placek p. Stasi",
      "104 Sernik gotowany","105 ≈Åaciatek","106 Snikers Mamy","107 Metrowiec owocowy",
      "108 Wielosmakowy z pomara≈ÑczƒÖ","109 Tort migda≈Çowy-Ali","110 Snikers Ali",
      "111 Marcepanek","112 Makowiec Kr√≥lewski","113 Tort znakomity","114 Placek serowo-makowy z kruszonkƒÖ",
      "115 Placek tortowy","116 Placek czekoladowy","117 Tort Prezydent","118 Placek ananasowy",
      "119 Bajaderka","120 Niebo w gƒôbie","121 Fale Dunaju","122 PIJAK","123 Pijak","124 Pijak",
      "125 Pijany Izydor","126 Dziwak","127 Placek z delicjami","128 Placek ≈õcierany","129 Sernik z wi≈õniami",
      "130 Sernik na zimno","131 Placek z zasma≈ºkƒÖ","132 Szarlotka","133 Zebra","134 Makowiec z pianƒÖ",
      "135 Bawole oczy","136 Sernik z roladkami Bronio","137 8-Marca","138 Placek z p≈Çatk√≥w owsianych",
      "139 Placek bezowy","140 Sernik Tortowy","141 Torcik serowy","142 Kruchy z wi≈õniami","143 Pychotka",
      "144 Biszkopt z galaretkƒÖ","145 Placek z batonami Ikar","146 Sernik z g√≥ry","147 Biszkopt z truskawkami",
      "148 Biszkopt z rodzynkami","149 Placek z rabarbarem","150 Ucierany z rabarbarem","151 Placek z 2 masami",
      "152 PIGA","153 Rolada makowa","154 Rolada Ani Barszczak","155 Babka orzechowa","156 Babka marmurkowa",
      "157 Piaskowiec z owocami","158 Babka jasna","159 Babka z awokadem","160 Babka cytrynowa","161 Babka ≈õnie≈ºna",
      "162 Babka gotowana","163 Placek z jab≈Çek","164 Placek ze ≈õliwek","165 DESER","166 KANTA≈ÅKA",
      "167 Placek kr√≥lewski","168 Ucierany ze ≈õliwkami","169 Ciasto z kokosem i orzechami","170 Sernik w kratkƒô",
      "171 Paluszki p√≥≈Çfrancuskie","172 Placek z wi≈õniami i kokosem","173 Placek nadzwyczajny","174 Placek pycha z orzechami",
      "175 Placek deserowy z mleka w puszce","176 Tort z ananasem","177 Placek z jab≈Çkami","178 Placek w kropki",
      "179 Placek serowo-orzechowy","180 Orzechowy w cie≈õcie francuskim","181 Biszkopt z owocami","182 Pychotka ALI",
      "183 Pychotka","184 Pychotka spo≈ºywczak","185 Placek orzechowy z masƒÖ orzechowƒÖ","186 Ciasto parzone",
      "187 Placek amoniakowy","188 Sernik z mlekiem","189 Placek kakaowo-czekoladowy","190 TORT",
      "191 Ciasto orzechowe","192 Orzechowiec","193 Sernik ucierany","194 Sernik z owocami","195 Placek makowo-jab≈Çkowy",
      "196 Trojaczek cytrynowy","197 Tr√≥jkolorowy metrowiec","198 Wafel kokosowo-kawowy","199 PIZZA-Spo≈ºywczak",
      "200 Dro≈ºd≈º√≥wki spo≈ºywczak","201 Rolada do barszczu","202 PƒÖczki Celiny","203 Prince Polo",
      "204 Placek cappuccino","205 Sernik od Hanki","206 Dziwak","207 ≈ªo≈ÇƒÖdek","208 Makowy z do≈Çu",
      "209 MIODOWY","210 Kr√≥lewiec Makowieckiej","211 Placek czekoladowy z rodzynkami","212 Marcepanek",
      "213 NUTELLA","214 Placek w kupki z serem","215 Makaronikowy","216 Placek z ptasim mleczkiem",
      "217 Tort z winogronem","218 Kora orzechowa","219 Placek kruszony","220 Usta Adama",
      "221 Pomara≈Ñczowiec","222 Wenus (serowy z d≈ºemem brzoskwini","223 Wafel z delicjami",
      "224 Placek KR√ìWKA","225 Orzechowy z bakaliami i masƒÖ zasma","226 LEON","227 Serowa Zosia",
      "228 Serowy z kulkami orzechowymi","229 Jab≈Çecznik z serem od Agaty","230 Jab≈Çecznik Krystyny",
      "231 Placek bakaliowy (≈õliwkowy)","232 Katarzynka","233 Wafel z galaretkƒÖ","234 Bananowy",
      "235 Placek od Kostura","236 Sernik od Ali","237 Porzeczka","238 Francuska czekolada (Basi)",
      "239 Makowiec Japo≈Ñski","240 Piernikowy smak"
    ];

    function normalizeStr(s) { return s.normalize('NFD').replace(/[\u0300-\u036f]/g,'').toLowerCase(); }
    const listEl = document.getElementById('list');
    const searchEl = document.getElementById('search');
    const infoEl = document.getElementById('info');
    const clearBtn = document.getElementById('clearBtn');
    const showAllBtn = document.getElementById('showAllBtn');
    const normalized = recipes.map(r=>normalizeStr(r));

    function render(items){
      listEl.innerHTML='';
      if(!items.length){ listEl.innerHTML='<div class="noresults">Brak wynik√≥w.</div>'; infoEl.textContent='Znaleziono 0 wynik√≥w'; return; }
      const frag=document.createDocumentFragment();
      items.forEach(obj=>{
        const div=document.createElement('div');
        div.className='item';
        div.innerHTML=`<div class="num">${obj.index}</div><div class="title">${obj.text}</div>`;
        frag.appendChild(div);
      });
      listEl.appendChild(frag);
      infoEl.textContent=`Znaleziono ${items.length} ${items.length===1?'wynik':'wynik√≥w'}`;
    }

    function renderAll(){
      const all=recipes.map((t,i)=>({index:i+1,text:t.replace(/^\d+\s*/,'')}));
      render(all);
      infoEl.textContent=`Wszystkie pozycje: ${all.length}`;
    }

    function search(q){
      const qn=normalizeStr(q.trim());
      if(!qn){ renderAll(); return; }
      const results=[];
      for(let i=0;i<normalized.length;i++){
        if(normalized[i].includes(qn)){
          results.push({index:i+1,text:recipes[i].replace(/^\d+\s*/,'')});
        }
      }
      render(results);
    }

    function debounce(fn,wait=150){ let t; return (...args)=>{ clearTimeout(t); t=setTimeout(()=>fn(...args),wait); }; }
    const debouncedSearch=debounce(e=>search(e.target.value),80);
    searchEl.addEventListener('input',debouncedSearch);
    clearBtn.addEventListener('click',()=>{searchEl.value='';renderAll(); searchEl.focus();});
    showAllBtn.addEventListener('click',()=>{searchEl.value='';renderAll(); searchEl.focus();});
    searchEl.addEventListener('keydown',e=>{if(e.key==='Enter') listEl.scrollTo({top:0,behavior:'smooth'});});
    renderAll();
  </script>
</body>
</html>
